CREATE DATABASE products_rvt;
USE products_rvt;
CREATE TABLE client (
id INT AUTO_INCREMENT NOT NULL,
name TINYTEXT NOT NULL,
surname TINYTEXT NOT NULL,
address TINYTEXT NOT NULL,
email TINYTEXT NOT NULL,
password VARCHAR(64) NOT NULL,
PRIMARY KEY (id)
);
CREATE TABLE manufacturer (
id INT AUTO_INCREMENT NOT NULL,
name TINYTEXT NOT NULL,
description TEXT,
address TINYTEXT NOT NULL,
email TINYTEXT NOT NULL,
password VARCHAR(64) NOT NULL,
PRIMARY KEY (id)
);
CREATE TABLE package (
id INT AUTO_INCREMENT NOT NULL,
client INT NOT NULL,
status BOOLEAN NOT NULL DEFAULT FALSE,
PRIMARY KEY (id),
FOREIGN KEY (client) REFERENCES client (id)
ON UPDATE CASCADE ON DELETE CASCADE
);
CREATE TABLE product (
id INT AUTO_INCREMENT NOT NULL,
name TINYTEXT NOT NULL,
description TEXT,
price FLOAT NOT NULL,
manufacturer INT NOT NULL,
PRIMARY KEY (id),
FOREIGN KEY (manufacturer) REFERENCES manufacturer (id)
ON UPDATE CASCADE ON DELETE CASCADE
);
CREATE TABLE package_products (
id INT AUTO_INCREMENT NOT NULL,
package INT NOT NULL,
product INT NOT NULL,
quantity INT NOT NULL,
scanned BOOLEAN NOT NULL DEAFULT FALSE,
PRIMARY KEY (id),
FOREIGN KEY (package) REFERENCES package (id)
ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY (product) REFERENCES product (id)
ON UPDATE CASCADE ON DELETE CASCADE
);
CREATE TABLE packer (
manufacturer INT NOT NULL,
code VARCHAR(32) NOT NULL,
PRIMARY KEY (manufacturer),
FOREIGN KEY (manufacturer) REFERENCES manufacturer (id)
);